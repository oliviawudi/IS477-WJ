1. SHED 2024 (public_use_data_2024)
1.1 Initial structure and feature selection

Raw file: shed2024.sas7bdat (converted to shed2024.csv).

Shape before subsetting: 12,295 rows × 753 columns.

Each row represents a survey respondent; each column is a survey question or derived variable.

For this project, we extracted the variables most closely related to financial literacy and credit card behavior:

Credit card:

C2A – Credit card ownership (Yes/No)

C4A – Frequency of carrying an unpaid balance

Financial resilience:

EF1 – Has emergency savings (Yes/No)

EF2 – Ability to cover 3 months if income is lost (Yes/No)

Emergency expense handling:

EF3_a – Put it on credit card, pay in full next statement

EF3_b – Put it on credit card, pay over time

EF3_c – Pay with money in checking/savings/cash

EF3_d – Use bank loan or line of credit

EF3_e – Borrow from friend/family

EF3_f – Payday/advance/overdraft

EF3_g – Sell something

EF3_h – Would not be able to pay

These EF variables are later referenced with more descriptive names in the analysis (e.g., has_emergency_savings, ef3_credit_over_time), but we kept the original codes in the cleaned datasets for traceability.

1.2 Derived risk score and proxy credit group

We constructed a risk_score as an intermediate measure of credit risk / financial vulnerability:

Start with risk_score = 0.

Add 1 point for each “risky” or vulnerable condition:

No emergency savings: EF1 == "No".

Cannot cover 3 months of income: EF2 == "No".

Risky emergency responses:

EF3_b == "Yes" (credit card, pay over time).

EF3_e == "Yes" (borrow from friends/family).

EF3_d == "Yes" (bank loan/line of credit).

Limited credit access: C2A == "No".

Frequent unpaid balances (from C4A):

Once → +1

Some of the time → +2

Most or all of the time → +3

We then mapped risk_score into a categorical proxy_credit_group:

0–1 → Super-prime

2–3 → Prime

4–5 → Near-prime

6–7 → Subprime

≥8 → Deep subprime

The proxy_credit_group is what we use downstream. The numeric risk_score is treated as an intermediate feature used to derive the category and is not central to the final interpretation.

1.3 Missing value assessment and syntactic checks

Explicit missing values (NaN) from df_shed24.isna().sum() were negligible for the selected EF and C variables.

We then checked for implicit missing values (e.g., empty strings, invalid codes):

EF2:

We discovered a large number of empty strings (""), not coded as NaN.

Over 50% of responses in EF2 were empty.

Because EF2 is critical but heavily incomplete and would require dropping over half the sample to use it reliably, we dropped EF2 from both SHED 2024 and SHED 2020 to avoid biasing the sample.

C4A:

We found a set of records where C4A == "" (blank).

By cross-checking with C2A, we observed that these blanks correspond to respondents who do not own a credit card.

Instead of treating them as missing, we recoded:

C4A == "" → "No credit card ownership".

Final allowed C4A categories:

"Never carried an unpaid balance (always pay in full)"

"Once"

"Some of the time"

"Most or all of the time"

"No credit card ownership"

This mapping is important for later integration with CFPB data, where we need to distinguish between people who use credit cards and those who do not have access at all.

1.4 Semantic consistency checks

We performed semantic checks to ensure that responses across related variables were logically consistent:

EF2 vs EF3_ (ability to cover vs how they would pay)*

Logic: If a respondent says they can cover 3 months of expenses (EF2 == "Yes"), it is unlikely that all EF3 options are "No" (i.e., they say they have no way to pay a $400 emergency expense).

We identified rows where:

EF2 == "Yes" and

all EF3_a–EF3_h are "No".

This yielded three inconsistent rows (e.g., likely data entry or response errors).

We dropped these 3 rows from SHED 2024, as they appear to be semantically impossible.

C2A vs C4A (ownership vs behavior)

Logic: A respondent without a credit card (C2A == "No") should not report any of the unpaid balance behaviors (e.g., “Once”, “Some of the time”).

We checked for rows with:

C2A == "No" and C4A in unpaid-balance categories.

No such rows were found after the recoding step, so no further action was needed.
